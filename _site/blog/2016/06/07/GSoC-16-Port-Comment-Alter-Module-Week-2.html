<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Anchal - GSoC'16 - Port Comment Alter Module - Week 2</title>
  <meta name="author" content="Anchal" />
  <meta name="description" content="The blog of Anchal" />
  <link rel="canonical" href="https://anchal29.github.io/blog/2016/06/07/GSoC-16-Port-Comment-Alter-Module-Week-2.html" />

  <link href="//fonts.googleapis.com/css?family=Open+Sans:600,800" rel="stylesheet" type="text/css">
  <link rel="shortcut icon" href="/favicon.png">
  <link rel="alternate" type="application/atom+xml" title="Anchal" href="https://anchal29.github.io/atom.xml" />

  <link rel="stylesheet" href="/assets/css/all.css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha256-k2/8zcNbxVIh5mnQ52A0r3a6jAgMGxFJFE2707UxGCk= sha512-ZV9KawG2Legkwp3nAlxLIVFudTauWuBpC10uEafMHYL0Sarrz5A7G79kXh5+5+woxQ5HM559XX2UZjMJ36Wplg==" crossorigin="anonymous">
</head>
<body>
  <div class="container">
    <div class="four columns sidebar">
      <nav>
  <h1>Hi.</h1>
  <a href="/">
    
    <img src="/logo.png" id="logo" alt="Blog logo"/>
    
  </a>
  <h2>I'm <a href="/">Anchal</a>.</h2>
  <div id="bio">
    <p style="text-align: center;">Drupal, GSoC and anime</p>
  </div>
  <div id="social">
    Follow me:
<div id="stalker">
  
  <a title="anchal29 on Github" href="https://github.com/anchal29">
    <i class="fa fa-github-square"></i>
  </a>
  

  

  

  

  

  

  
  <a title="Anchal on Facebook" href="https://facebook.com/anchal.pandey.186">
    <i class="fa fa-facebook-square"></i>
  </a>
  

  

  

  

  

  
  <a title="Atom feed" id="atom" href="/atom.xml">
    <i class="fa fa-rss-square"></i>
  </a>
  
</div>

  </div>
</nav>

    </div>

    <div class="eleven columns content">
      <p class="meta">
  June 07, 2016
  <a href="/">
    <i class="home fa fa-home"></i>
  </a>
</p>

<h1 class="title">GSoC'16 - Port Comment Alter Module - Week 2</h1>

<div id="post">
  <hr />

<p>As part of GSoC’16 I’m working on <strong>Porting Comment Alter module to Drupal 8</strong> under the mentorship of <a href="https://www.drupal.org/u/boobaa">boobaa</a> and <a href="https://www.drupal.org/u/czigor">czigor</a>. This blog is an excerpt of the work which I did in the second week of the coding period of GSoC’16. The blogpost for the work done in the first week can be found <a href="../../05/30/GSoC-16-Port-Comment-Alter-Module-Week-1.html">here</a>.</p>

<p>The second week of GSoC’16 coding period is over now. During this week I was able to accomplish following tasks:</p>

<ol>
  <li><strong>Make sure that a comment alterable field of parent entity is not present in comment form</strong>: Now, in Drupal 8 this problem can arise only in one case i.e. when comment is parent entity because now fields are not shared across entity types only across the bundles of a given entity type. As upon discussion with my mentors we concluded that to avoid any unnecessary complications we would remove comment altering options from comment fields which would resolve this problem. This means comment fields can not be altered from comments now, which also doesn’t serve us any purpose.</li>
  <li><strong>Get comment alterable fields</strong>: After providing options to make a field comment alterable and making sure that parent entities fields are not present in comment, I started to work on a function which would return all the comment alterable fields attached to the parent entity. This required getting the <code class="highlighter-rouge">ThirdPartySettings</code> stored previously to check whether a field is comment alterable or not using the field definition. Also in the meantime I was able to learn about caching in Drupal specially about cache invalidation on which I did some mistakes in the beginning. Now, the function works and I’m able to get all the comment alterable fields attached to an entity.</li>
  <li><strong>Porting comment_alter_form_node_type_form_alter function</strong>: Procedural next step for me this week was to work on porting this function of Drupal 7 as it would affect the comment form. For now I provided this form alter for comment fields settings which needs to be moved to entity edit form.</li>
</ol>

<p>By the end of the week, with this I was able to get the list of the comment alterable fields attached to parent entity. Adding the field widgets for the comment alterable fields in the comment form would be the next step for me. My mentors have already reviewed the code for the work which I did during this week. If anyone is interested, my progress can be followed in my <a href="https://github.com/anchal29/comment_alter">GitHub repo</a>.</p>


</div>


<div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'anchal29';
        var disqus_identifier = "/blog/2016/06/07/GSoC-16-Port-Comment-Alter-Module-Week-2.html";
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


<div id="related">
  <h3>Related Posts</h3>
  <ul class="posts">
    
    <li>
      <span>17 Aug 2016 &raquo;</span> <a href="/blog/2016/08/17/GSoC-16-Port-Comment-Alter-Module-Week-12.html">GSoC'16 - Port Comment Alter Module - Week 12</a>
    </li>
    
    <li>
      <span>08 Aug 2016 &raquo;</span> <a href="/blog/2016/08/08/GSoC-16-Port-Comment-Alter-Module-Week-11.html">GSoC'16 - Port Comment Alter Module - Week 11</a>
    </li>
    
    <li>
      <span>03 Aug 2016 &raquo;</span> <a href="/blog/2016/08/03/GSoC-16-Port-Comment-Alter-Module-Week-10.html">GSoC'16 - Port Comment Alter Module - Week 10</a>
    </li>
    
  </ul>
</div>


      <div class="footer">
        <div class="disclaimer">
  

  <p>
    © Anchal, 2016 &mdash; built with <a href="http://jekyllrb.com/">Jekyll</a> using <a href="https://github.com/swanson/lagom">Lagom theme</a>
  </p>
</div>

      </div>
    </div>
  </div>


<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-xxxx-x']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</body>
</html>
